import{d as u,r as i,b as f,o as c,e as l,f as a,t as d,n as m,w as _,g,i as v}from"./main-CUhC8M4S.js";import{kq as h}from"./story-Nf19rVwR.js";const b={class:"audio-transcript flex flex-col justify-center items-center"},y={class:"text-center font-bold"},w=["src"],k=["aria-expanded"],x=["innerHTML"],q=u({__name:"audio-widget",props:{src:{type:String,required:!0},title:{type:String,required:!1,default:""},transcript:{type:String,required:!1}},setup(r){const n=r,e=i(!1),s=()=>{e.value=!e.value},p=new h({html:!0}),o=i("");return f(()=>{o.value=p.render(n.transcript||"").replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>"),document.querySelectorAll(".storyramp-app a:not([target])").forEach(t=>t.target="_blank")}),(t,C)=>(c(),l("figure",b,[a("div",y,d(n.title),1),a("audio",{class:"w-5/6",src:r.src,controls:""},null,8,w),a("figcaption",null,[a("div",{class:m(["cursor-pointer text-center select-none",e.value?"transcript-open":"transcript-closed"]),onClick:s,onKeydown:_(s,["enter"]),tabindex:"0",role:"button","aria-expanded":e.value},d(e.value?t.$t("audio.transcript.hide"):t.$t("audio.transcript.show")),43,k),e.value?(c(),l("div",{key:0,class:"transcript",innerHTML:o.value||t.$t("audio.transcript.none")},null,8,x)):g("",!0)])]))}}),B=v(q,[["__scopeId","data-v-9a08a9f0"]]);export{B as default};
