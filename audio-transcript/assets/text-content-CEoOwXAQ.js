import{d as u,r as c,o as f,a as i,c as l,b as r,t as d,n as m,w as _,e as v,f as g,h}from"./main-BNvgm77F.js";import{kq as y}from"./story-wN-EJYgP.js";const b={class:"audio-transcript flex flex-col justify-center items-center"},w={class:"text-center font-bold"},x=["src"],k=["aria-expanded"],q=["innerHTML"],S=u({__name:"audio-widget",props:{src:{type:String,required:!0},title:{type:String,required:!1,default:""},transcript:{type:String,required:!1}},setup(n){const a=n,e=c(!1),s=()=>{e.value=!e.value},p=new y({html:!0}),o=c("");return f(()=>{o.value=p.render(a.transcript||"").replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>"),document.querySelectorAll(".storyramp-app a:not([target])").forEach(t=>t.target="_blank")}),(t,$)=>(i(),l("figure",b,[r("div",w,d(a.title),1),r("audio",{class:"w-5/6",src:n.src,controls:""},null,8,x),r("figcaption",null,[r("div",{class:m(["cursor-pointer text-center select-none",e.value?"transcript-open":"transcript-closed"]),onClick:s,onKeydown:_(s,["enter"]),tabindex:"0",role:"button","aria-expanded":e.value},d(e.value?t.$t("audio.transcript.hide"):t.$t("audio.transcript.show")),43,k),e.value?(i(),l("div",{key:0,class:"transcript",innerHTML:o.value||t.$t("audio.transcript.none")},null,8,q)):v("",!0)])]))}}),C=g(S,[["__scopeId","data-v-9a08a9f0"]]),B={props:{content:{type:String,required:!0}},render(){const n={components:{AudioPlayer:C},template:`<div class="px-10 md-content object-contain">${this.content||""}</div>`};return h(n)}};export{B as default};
